# WordPress Vulnerability Warnings

You can suscribe to this service on [WordPress Plugins & Themes vulnerabilities newsletter](https://wpvuln.appvery.com)

Check by scraping on others webs about latest WordPress vulnerabilities to report by email.

With current set of the code you need open a free account with [SENDGRID](https://app.sendgrid.com/) and get an API KEY to allow this app to send emails with a report of new Vulnerabilities. 

Additionally you have and option to send more emails with the help of [Mailerlite](https://www.mailerlite.com/): allow send emails to a list of susbcribers in auto mode. Only you need a new free Mailerlite account and set your credentials on config Vars.

Also a free account of MONGODB like the ones you can setup on Heroku with mLab. 

### Check WP vulnerabilities

Setup Scheduler to run

`npm run worker`


### Deploy to server: Heroku

- Try to deploy with Heroku free Dyno: [Heroku](https://www.heroku.com/home)
- Install free add-ons:
  - [SendGrid](https://elements.heroku.com/addons/sendgrid): get your API KEY to send emails
  - [mLab MongoDB](https://elements.heroku.com/addons/mongolab): get your free MongoDB database to persistence
  - [Heroku Sheduler](https://elements.heroku.com/addons/scheduler): setup when to run the app 
- After your first deploy stop the service because of this app only run with a Sheduler

### Setup config Vars

Very easy with Heroku on Settings tabs, and to work on local just add a file .env with your own setup.

- WP_VULN_SENDGRID_API_KEY = XXXXXXX
- WP_VULN_TO_EMAIL = youremail@yourdomain.com
- WP_VULN_FROM_EMAIL = youremail@yourdomain.com
- MONGODB_URI = mongodb://username:password@host
- WP_VULN_MAILERLITE_API_KEY = XXXXXXX
- WP_VULN_MAILERLITE_GROUPID = 99999999
- WP_VULN_CAMPAIGN = true

### Packages

- @sendgrid/mail: send emails
- cheerio: scraping on others webs
- dotenv: save API KEYs on hide file .env
- mongoose: use to persist data on each scan as simple database
- request: request data from websites
- request-promise: request in a promise mode
- mailerlite-api-v2-node: send emails campaign